---
// No props needed
---

<section id="services" class="py-16 lg:py-24 bg-white">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <!-- Section Title -->
    <div class="text-center mb-16">
      <h2
        class="font-heading text-3xl lg:text-5xl font-bold text-secondary mb-4"
      >
        Our services
      </h2>
      <p class="font-body text-lg text-gray-600 max-w-3xl mx-auto">
        Services we provide for Exterior Cleaning and Maintenance:
      </p>
    </div>

    <!-- Services Carousel -->
    <div class="relative max-w-7xl mx-auto">
      <div class="services-carousel overflow-hidden">
        <div
          class="services-container flex transition-transform duration-500 ease-in-out"
        >
          <!-- Service 1: High-Rise Facade Cleaning -->
          <div class="service-slide flex-shrink-0 w-full lg:w-1/3 px-4">
            <div
              class="bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 group"
            >
              <div class="relative h-64 lg:h-80 overflow-hidden">
                <img
                  src="https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                  alt="High-Rise Facade Cleaning"
                  class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
                />
                <div
                  class="absolute inset-0 bg-gradient-to-t from-secondary/60 to-transparent"
                >
                </div>
              </div>
              <div class="p-6">
                <h3 class="font-heading text-xl font-bold text-secondary mb-3">
                  High-Rise Facade Cleaning
                </h3>
                <p class="font-body text-gray-600 leading-relaxed">
                  Professional cleaning of building exteriors and facades using
                  advanced drone technology for safety and efficiency.
                </p>
              </div>
            </div>
          </div>

          <!-- Service 2: High-Rise Window Washing -->
          <div class="service-slide flex-shrink-0 w-full lg:w-1/3 px-4">
            <div
              class="bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 group"
            >
              <div class="relative h-64 lg:h-80 overflow-hidden">
                <img
                  src="https://images.unsplash.com/photo-1559827260-dc66d52bef19?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                  alt="High-Rise Window Washing"
                  class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
                />
                <div
                  class="absolute inset-0 bg-gradient-to-t from-secondary/60 to-transparent"
                >
                </div>
              </div>
              <div class="p-6">
                <h3 class="font-heading text-xl font-bold text-secondary mb-3">
                  High-Rise Window Washing
                </h3>
                <p class="font-body text-gray-600 leading-relaxed">
                  Crystal clear window cleaning for tall buildings and
                  hard-to-reach areas with precision drone technology.
                </p>
              </div>
            </div>
          </div>

          <!-- Service 3: Roof Washing -->
          <div class="service-slide flex-shrink-0 w-full lg:w-1/3 px-4">
            <div
              class="bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 group"
            >
              <div class="relative h-64 lg:h-80 overflow-hidden">
                <img
                  src="https://images.unsplash.com/photo-1449824913935-59a10b8d2000?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                  alt="Roof Washing"
                  class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
                />
                <div
                  class="absolute inset-0 bg-gradient-to-t from-secondary/60 to-transparent"
                >
                </div>
              </div>
              <div class="p-6">
                <h3 class="font-heading text-xl font-bold text-secondary mb-3">
                  Roof Washing
                </h3>
                <p class="font-body text-gray-600 leading-relaxed">
                  Complete roof cleaning and maintenance services removing dirt,
                  algae, and debris safely from above.
                </p>
              </div>
            </div>
          </div>

          <!-- Service 4: Solar Panel Cleaning -->
          <div class="service-slide flex-shrink-0 w-full lg:w-1/3 px-4">
            <div
              class="bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 group"
            >
              <div class="relative h-64 lg:h-80 overflow-hidden">
                <img
                  src="https://images.unsplash.com/photo-1509391366360-2e959784a276?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                  alt="Solar Panel Cleaning"
                  class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
                />
                <div
                  class="absolute inset-0 bg-gradient-to-t from-secondary/60 to-transparent"
                >
                </div>
              </div>
              <div class="p-6">
                <h3 class="font-heading text-xl font-bold text-secondary mb-3">
                  Solar Panel Cleaning
                </h3>
                <p class="font-body text-gray-600 leading-relaxed">
                  Specialized cleaning of solar installations to maximize
                  efficiency and energy output with gentle drone technology.
                </p>
              </div>
            </div>
          </div>

          <!-- Service 5: Gutter Cleaning -->
          <div class="service-slide flex-shrink-0 w-full lg:w-1/3 px-4">
            <div
              class="bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 group"
            >
              <div class="relative h-64 lg:h-80 overflow-hidden">
                <img
                  src="https://images.unsplash.com/photo-1558618047-3c8c76ca7d13?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                  alt="Gutter Cleaning"
                  class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
                />
                <div
                  class="absolute inset-0 bg-gradient-to-t from-secondary/60 to-transparent"
                >
                </div>
              </div>
              <div class="p-6">
                <h3 class="font-heading text-xl font-bold text-secondary mb-3">
                  Gutter Cleaning
                </h3>
                <p class="font-body text-gray-600 leading-relaxed">
                  Thorough gutter and downspout cleaning to prevent water damage
                  and maintain proper drainage systems.
                </p>
              </div>
            </div>
          </div>

          <!-- Service 6: Pressure Washing -->
          <div class="service-slide flex-shrink-0 w-full lg:w-1/3 px-4">
            <div
              class="bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 group"
            >
              <div class="relative h-64 lg:h-80 overflow-hidden">
                <img
                  src="https://images.unsplash.com/photo-1581578731548-c64695cc6952?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                  alt="Pressure Washing"
                  class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
                />
                <div
                  class="absolute inset-0 bg-gradient-to-t from-secondary/60 to-transparent"
                >
                </div>
              </div>
              <div class="p-6">
                <h3 class="font-heading text-xl font-bold text-secondary mb-3">
                  Pressure Washing
                </h3>
                <p class="font-body text-gray-600 leading-relaxed">
                  High-pressure cleaning for driveways, sidewalks, and building
                  surfaces with eco-friendly solutions.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Navigation Progress Bar -->
      <div class="flex justify-center mt-8">
        <div class="relative w-64 h-1 bg-gray-200 rounded-full overflow-hidden">
          <div
            class="service-progress absolute top-0 left-0 h-full bg-primary rounded-full transition-all duration-500"
            style="width: 33.33%;"
          >
          </div>
        </div>
      </div>

      <!-- Navigation Dots -->
      <div class="flex justify-center space-x-2 mt-6">
        <div
          class="service-indicator active w-2 h-2 rounded-full bg-primary transition-all duration-300"
        >
        </div>
        <div
          class="service-indicator w-2 h-2 rounded-full bg-gray-300 transition-all duration-300"
        >
        </div>
        <div
          class="service-indicator w-2 h-2 rounded-full bg-gray-300 transition-all duration-300"
        >
        </div>
        <div
          class="service-indicator w-2 h-2 rounded-full bg-gray-300 transition-all duration-300"
        >
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .services-container {
    width: 600%; /* 6 slides */
  }

  .service-indicator.active {
    transform: scale(1.5);
    background-color: #f07845;
  }

  @media (min-width: 1024px) {
    .services-container {
      width: 200%; /* Show 3 slides at once on desktop, so total width is 200% */
    }
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const container = document.querySelector(
      ".services-container"
    ) as HTMLElement;
    const indicators = document.querySelectorAll(".service-indicator");
    const progressBar = document.querySelector(
      ".service-progress"
    ) as HTMLElement;

    let currentSlide = 0;
    const totalSlides = 4; // Number of slide positions
    const slidesPerView = window.innerWidth >= 1024 ? 3 : 1;

    function showSlide(index: number) {
      const slideWidth = 100 / (window.innerWidth >= 1024 ? 6 : 6); // Adjust for responsive
      const translateX = -index * (window.innerWidth >= 1024 ? 50 : 100); // Move by 50% on desktop, 100% on mobile

      container.style.transform = `translateX(${translateX}%)`;

      // Update indicators
      indicators.forEach((indicator) => indicator.classList.remove("active"));
      indicators[index].classList.add("active");

      // Update progress bar
      const progress = ((index + 1) / totalSlides) * 100;
      progressBar.style.width = `${progress}%`;

      currentSlide = index;
    }

    function nextSlide() {
      const next = (currentSlide + 1) % totalSlides;
      showSlide(next);
    }

    // Auto-play carousel
    setInterval(nextSlide, 3000);

    // Indicator navigation
    indicators.forEach((indicator, index) => {
      indicator.addEventListener("click", () => showSlide(index));
    });

    // Touch/swipe support for mobile
    let startX = 0;
    let currentX = 0;
    let isDragging = false;

    container.addEventListener("touchstart", (e) => {
      startX = e.touches[0].clientX;
      isDragging = true;
    });

    container.addEventListener("touchmove", (e) => {
      if (!isDragging) return;
      currentX = e.touches[0].clientX;
    });

    container.addEventListener("touchend", () => {
      if (!isDragging) return;

      const diff = startX - currentX;
      if (Math.abs(diff) > 50) {
        // Minimum swipe distance
        if (diff > 0) {
          // Swipe left - next slide
          nextSlide();
        } else {
          // Swipe right - previous slide
          const prev = (currentSlide - 1 + totalSlides) % totalSlides;
          showSlide(prev);
        }
      }

      isDragging = false;
    });
  });
</script>
