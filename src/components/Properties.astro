---
// Import property images
import property1 from "../assets/images/properties/1.jpg";
import property2 from "../assets/images/properties/2.jpg";
import property3 from "../assets/images/properties/3.jpg";

// Image URLs for script access
const imageUrls = {
  commercial: property1.src,
  industrial: property2.src,
  public: property3.src,
};
---

<section id="clients" class="py-16 lg:py-24 bg-accent/10">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="grid lg:grid-cols-5 gap-12 lg:gap-16 items-start">
      <!-- Image - Left side (2 columns) -->
      <div class="lg:col-span-2">
        <div
          class="w-full h-[600px]"
          data-commercial={imageUrls.commercial}
          data-industrial={imageUrls.industrial}
          data-public={imageUrls.public}
        >
          <img
            id="property-image"
            src={property1.src}
            alt="Commercial and Residential Properties"
            class="w-full h-full object-cover transition-all duration-500"
            style="width: 496px; height: 600px;"
          />
        </div>
      </div>

      <!-- Content - Right side (3 columns) -->
      <div class="lg:col-span-3 space-y-8">
        <div>
          <h2
            class="font-heading text-3xl lg:text-5xl font-bold text-black mb-6"
          >
            Properties we proudly serve:
          </h2>

          <!-- Tab Navigation -->
          <div class="flex flex-wrap gap-3 mb-8">
            <button
              class="property-tab active bg-blue text-white px-6 py-3 rounded-full font-medium transition-all duration-300 hover:bg-blue/90"
              data-tab="commercial"
            >
              Commercial and Residential
            </button>
            <button
              class="property-tab bg-blue text-black px-6 py-3 rounded-full font-medium transition-all duration-300 hover:bg-blue/80"
              data-tab="industrial"
            >
              Industrial and Infrastructure
            </button>
            <button
              class="property-tab bg-blue text-black px-6 py-3 rounded-full font-medium transition-all duration-300 hover:bg-blue/80"
              data-tab="public"
            >
              Public and Large Spaces
            </button>
          </div>
        </div>

        <!-- Tab Content -->
        <div class="property-content">
          <!-- Commercial Content -->
          <div id="commercial-content" class="tab-content active">
            <p class="font-body text-black leading-relaxed mb-6">
              We offer facade and window cleaning solutions for buildings up to
              15 floors, owned communities, and leased communities.
            </p>

            <div class="space-y-4">
              <h4 class="font-heading text-lg font-semibold text-black">
                Includes:
              </h4>
              <ul class="space-y-3 font-body text-black">
                <li>Commercial and residential buildings (up to 15 floors)</li>
                <li>Property owned communities</li>
                <li>Hotels and resorts</li>
                <li>Malls and plazas</li>
              </ul>
            </div>
          </div>

          <!-- Industrial Content -->
          <div id="industrial-content" class="tab-content hidden">
            <p class="font-body text-black leading-relaxed mb-6">
              Specialized cleaning services for industrial facilities and
              critical infrastructure requiring precision and safety protocols.
            </p>

            <div class="space-y-4">
              <h4 class="font-heading text-lg font-semibold text-black">
                Includes:
              </h4>
              <ul class="space-y-3 font-body text-black">
                <li>Manufacturing facilities</li>
                <li>Warehouses and distribution centers</li>
                <li>Power plants and utilities</li>
                <li>Automotive dealerships</li>
                <li>Gas stations</li>
              </ul>
            </div>
          </div>

          <!-- Public Content -->
          <div id="public-content" class="tab-content hidden">
            <p class="font-body text-black leading-relaxed mb-6">
              Comprehensive cleaning solutions for public buildings and
              large-scale facilities serving communities across Florida.
            </p>

            <div class="space-y-4">
              <h4 class="font-heading text-lg font-semibold text-black">
                Includes:
              </h4>
              <ul class="space-y-3 font-body text-black">
                <li>Government buildings</li>
                <li>Schools and universities</li>
                <li>Hospitals and healthcare facilities</li>
                <li>Sports complexes and stadiums</li>
                <li>Convention centers</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .property-tab.active {
    background-color: #000517;
    color: #fdfdff;
  }

  .tab-content {
    transition: all 0.3s ease-in-out;
  }

  .tab-content.hidden {
    display: none;
  }

  .property-image-container img {
    transition: all 0.5s ease-in-out;
  }
</style>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const tabs = document.querySelectorAll(".property-tab");
    const contents = document.querySelectorAll(".tab-content");
    const image = document.getElementById("property-image") as HTMLImageElement;
    const imageContainer = image?.parentElement;

    const tabData = {
      commercial: {
        image: imageContainer?.getAttribute("data-commercial") || "",
        alt: "Commercial and Residential Properties",
      },
      industrial: {
        image: imageContainer?.getAttribute("data-industrial") || "",
        alt: "Industrial and Infrastructure",
      },
      public: {
        image: imageContainer?.getAttribute("data-public") || "",
        alt: "Public and Large Spaces",
      },
    };

    function switchTab(tabId: string) {
      // Update tab buttons
      tabs.forEach((tab) => {
        tab.classList.remove("active");
        tab.classList.remove("bg-secondary", "text-white");
        tab.classList.add("bg-accent", "text-black");
      });

      // Hide all content
      contents.forEach((content) => {
        content.classList.add("hidden");
        content.classList.remove("active");
      });

      // Show active tab and content
      const activeTab = document.querySelector(
        `[data-tab="${tabId}"]`
      ) as HTMLElement;
      const activeContent = document.getElementById(
        `${tabId}-content`
      ) as HTMLElement;

      if (activeTab) {
        activeTab.classList.add("active");
        activeTab.classList.add("bg-secondary", "text-white");
        activeTab.classList.remove("bg-accent", "text-black");
      }

      if (activeContent) {
        activeContent.classList.remove("hidden");
        activeContent.classList.add("active");
      }

      // Update image
      if (image && tabData[tabId as keyof typeof tabData]) {
        image.src = tabData[tabId as keyof typeof tabData].image;
        image.alt = tabData[tabId as keyof typeof tabData].alt;
      }
    }

    // Add click handlers
    tabs.forEach((tab) => {
      tab.addEventListener("click", () => {
        const tabId = tab.getAttribute("data-tab");
        if (tabId) {
          switchTab(tabId);
        }
      });
    });
  });
</script>
